{"version":3,"file":"static/js/671.3ce6ebc7.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/Pages/MoviesPage/MoviesPage.module.css?1df9","components/Pages/MoviesPage/MoviesPage.jsx","services/movies-api-set.jsx","webpack://goit-react-hw-05-movies/./src/utils/Container/Container.module.css?d0a7","utils/Container/Container.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"TrendingList\":\"MoviesList_TrendingList__DHTPV\",\"TrendingList-item\":\"MoviesList_TrendingList-item__G-pXu\",\"TrendingList-item--link\":\"MoviesList_TrendingList-item--link__gY+Pj\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport noPoster from '../../assets/no-image-poster-small.jpg';\nimport styles from './MoviesList.module.css';\n\nexport function MoviesList({ movies, to }) {\n  const location = useLocation();\n  return (\n    <ul className={styles.TrendingList}>\n      {movies.map(({ title, id, poster_path }) => (\n        <li className={styles['TrendingList-item']} key={id}>\n          <Link\n            className={styles['TrendingList-item--link']}\n            to={`${to}${id}`}\n            state={{ from: location }}\n          >\n            <img\n              src={\n                poster_path\n                  ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                  : noPoster\n              }\n              alt={title}\n              width=\"50\"\n            />\n            <span>{title}</span>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string.isRequired,\n    })\n  ),\n  to: PropTypes.string.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"MoviesPage_SearchForm__dkyk4\",\"SearchForm-input\":\"MoviesPage_SearchForm-input__yDWUf\",\"SearchForm-button\":\"MoviesPage_SearchForm-button__yHnW0\",\"SearchForm-icon\":\"MoviesPage_SearchForm-icon__0W217\"};","import { useState } from 'react';\nimport { fetchMovieByQuery } from 'services/movies-api-set';\nimport { IoSearch } from 'react-icons/io5';\nimport { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Container } from 'utils/Container';\nimport { MoviesList } from 'components/MoviesList';\nimport styles from './MoviesPage.module.css';\n\nexport function MoviesPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState(\n    searchParams.get('query') ?? ''\n  );\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    const searchParamsQuery = searchParams.get('query');\n\n    if (!searchParamsQuery) {\n      return;\n    }\n\n    fetchMovieByQuery(searchParamsQuery).then(movies => {\n      setMovies(movies.results);\n    });\n  }, [searchParams]);\n\n  function handleSearchQuery(event) {\n    setSearchQuery(event.currentTarget.value.toLowerCase());\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      return;\n    }\n\n    setSearchParams({ query: searchQuery });\n    fetchMovieByQuery(searchQuery).then(movies => {\n      setMovies(movies.results);\n    });\n\n    setSearchQuery('');\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit} className={styles.form}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={searchQuery}\n          onChange={handleSearchQuery}\n        />\n        <button type=\"submit\" className={styles.button}>\n          <IoSearch className={styles.icon} />\n        </button>\n      </form>\n      <Container>{movies && <MoviesList movies={movies} to={''} />}</Container>\n    </Container>\n  );\n}\n\nexport default MoviesPage;\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'b51df2db085891231dadc3f994e11109';\n\nasync function fetchWithErrorHandling(url = '') {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrendingMovies() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieByQuery(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&page=1&include_adult=true`\n  );\n}\n\nexport function fetchMovieById(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieCast(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"Container_Container__Uc3Lz\"};","import styles from './Container.module.css';\n\nexport function Container({ children }) {\n  return <div className={styles.Container}>{children}</div>;\n}\n"],"names":["MoviesList","_ref","movies","to","location","useLocation","_jsx","className","styles","TrendingList","children","map","_ref2","title","id","poster_path","_jsxs","Link","concat","state","from","src","noPoster","alt","width","MoviesPage","_searchParams$get","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","get","_useState2","searchQuery","setSearchQuery","_useState3","_useState4","setMovies","useEffect","searchParamsQuery","fetchMovieByQuery","then","results","Container","onSubmit","event","preventDefault","trim","query","form","input","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","button","IoSearch","icon","BASE_URL","API_KEY","fetchWithErrorHandling","_fetchWithErrorHandling","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","_args","wrap","_context","prev","next","length","undefined","fetch","sent","ok","json","t0","Promise","reject","Error","abrupt","stop","fetchTrendingMovies","fetchMovieById","movieId","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}